define(["core/yui","filter_teamwork/popup","filter_teamwork/loading"],function(e,t,s){return{url:"/filter/teamwork/ajax/ajax.php",data:"",sesskey:M.cfg.sesskey,send:function(){this.data.sesskey=this.sesskey,e.io(M.cfg.wwwroot+this.url,{method:"POST",data:this.data,headers:{},on:{success:function(e,t){},failure:function(){t.error()}}})},run:function(r){this.data.sesskey=this.sesskey,s.show(),e.io(M.cfg.wwwroot+this.url,{method:"POST",data:this.data,headers:{},on:{success:function(e,o){s.remove();let a=JSON.parse(o.responseText);if(a.error)return t.textError=a.errormsg,void t.error();r&&r()},failure:function(){t.error()}}})},runPopup:function(){this.data.sesskey=this.sesskey,e.io(M.cfg.wwwroot+this.url,{method:"POST",data:this.data,headers:{},on:{success:function(e,s){let r=JSON.parse(s.responseText);t.textHead=r.header,t.text=r.content,t.show()},failure:function(){t.error()}}})},setHTML:function(){this.data.sesskey=this.sesskey;const r=document.querySelector(this.data.target_block);s.show(),e.io(M.cfg.wwwroot+this.url,{method:"POST",data:this.data,headers:{},on:{success:function(e,o){s.remove(),t.remove();let a=JSON.parse(o.responseText);r.innerHTML=a.content},failure:function(){t.error()}}})}}});